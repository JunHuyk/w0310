<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>클로저</title>
</head>

<body>
  <!-- 
    클로저
      일반적으로 함수 내 지역변수는 함수 밖에서 참조할 수 없지만,
      클로저는 함수 내 지역변수를 함수밖에서 참조할 수 있게 해준다.
      -> 용도 : 콜백함수, 정보은닉
  -->
  <script>
    function add() {
      let n = 0;
      return function () {
        return n++;
      };
    };

    const increase = add(); // const increase = function add() {return ++n;}
    console.log(increase()); // 1
    console.log(increase()); // 2

    function multiply(n) {
      return function () {
        return n *= n;
      };
    };

    const num1 = multiply(10);
    console.log(num1); // 10 * 10 -> 100

    console.log(num1()); // 10 * 10 -> 100
    console.log(num1()); // 100 * 100 -> 10000
    const num2 = multiply(20);
    console.log(num2()); // 20 * 20 -> 400
    console.log(num2()); // 400 * 400 -> 160000

  </script>
</body>

</html>